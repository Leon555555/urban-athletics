{% extends "layout.html" %}

{% block content %}
<div class="container">
    <h2 class="text-center mt-4 mb-4"> Perfil de {{ atleta.nombre }}</h2>

    <h4>📊 Progreso semanal</h4>
    <div class="progress mb-4" style="height: 20px;">
        <div class="progress-bar bg-success" role="progressbar" style="width: {{ progreso_semana }}%;" aria-valuenow="{{ progreso_semana }}" aria-valuemin="0" aria-valuemax="100">
            {{ progreso_semana }}%
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <h4>🗓️ Próximos entrenamientos</h4>
            {% if entrenamientos_planificados %}
                <ul>
                    {% for entreno in entrenamientos_planificados %}
                        <li>{{ entreno.fecha.strftime('%d/%m/%Y') }} - {{ entreno.tipo }}: {{ entreno.detalle }}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No hay entrenamientos planificados aún.</p>
            {% endif %}
        </div>
        <div class="col-md-6">
            <h4>✅ Entrenamientos realizados</h4>
            {% if entrenamientos_realizados %}
                <ul>
                    {% for entreno in entrenamientos_realizados %}
                        <li>{{ entreno.fecha.strftime('%d/%m/%Y') }} - {{ entreno.tipo }}: {{ entreno.detalle }}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No hay entrenamientos realizados aún.</p>
            {% endif %}
        </div>
    </div>

    <h4 class="mt-4">📅 Calendario mensual</h4>
    <table class="table table-bordered text-center">
        <thead>
            <tr>
                <th>Lun</th><th>Mar</th><th>Mié</th><th>Jue</th><th>Vie</th><th>Sáb</th><th>Dom</th>
            </tr>
        </thead>
        <tbody>
            {% for semana in calendario_mensual %}
            <tr>
                {% for dia in semana %}
                    <td>{{ dia if dia != 0 else '' }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
